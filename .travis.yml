# Documentation: http://docs.travis-ci.com/user/languages/julia/
notifications:
  email: false

language: julia

os:
  - linux
#  - osx
#  - windows

julia:
  - 1.1
#  - 1.3

script:
  - julia -e 'using Pkg; pkg"up"; pkg"dev PyCall PackageCompiler"'
  - cd "$HOME/.julia/dev/PackageCompiler"
#  - git checkout sd-notomls
  - julia -e 'using PackageCompiler; PackageCompiler.compile_incremental(:PyCall)'
  - time julia -J "$HOME/.julia/dev/PackageCompiler/sysimg/sys.so" -e 'using PyCall'
  - time julia -J "$HOME/.julia/dev/PackageCompiler/sysimg/sys.so" -e 'using PyCall'
  - time julia -e 'using PyCall'
  - time julia -e 'using PyCall'
#  - julia -e 'using PackageCompiler; PackageCompiler.compile_incremental((:PyCall)'
#  - time julia -J $HOME/.julia/PackageCompiler/sysimg/sys.dylib -e 'using PyCall'
#  - time julia -e 'using PyCall'
